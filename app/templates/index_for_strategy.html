{% extends "baseindex.html" %}
{% import "bootstrap/wtf.html" as wtf %}



<!DOCTYPE html>

          {% block head %}
         {{ super() }}
     
<html lang="en">
 </div></p></div></div></div></p></div></div></div>
<br><br><br>
    

          <ol class="breadcrumb">
                      <li><a href="/start">All Projects</a></li>
  <li><a href="{{ url_for('project_outline', name = project.id) }}">Objectives</a></li>
  <li class="active">Strategies</li>
</ol></div>


<div class="well">
      <div class="row">
        <div class="col-md-12 ">

<div class="list-group">
     <div class="alert alert-info">Project: {{ project.name }}</div>
      
        <div class="col-md-12 ">
        <div class="alert alert-warning">  Objective: {{ pgoal.goal }}</div>
            {% for message in get_flashed_messages() %}
                       <span style="color: red;">[{{ message }}]</span>
{% endfor %}
 </div></p></div></div></div></p></div></div></div></div></div></div>
    {% endblock %}
          {% block content %}

        <div class="row">
        <div class="col-md-9">

<a href="{{ url_for('strategy_sort', goal=pgoal.id) }}" class="btn btn-lg pull-right"><span class="glyphicon glyphicon-sort-by-attributes">

        
<a href="#" class="btn btn-lg btn-success pull-right"
   data-toggle="modal"
   data-target="#basicModal">Add Strategy</a>
   <div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
            <h4 class="modal-title" id="myModalLabel">Strategies</h4>
            </div>
            <div class="modal-body">
                <h3><div class="well">
      <div class="row">
        <div class="col-md-12 ">
            <div id="form-section">
    </div>
<div class="well">
      <div class="row">
        <div class="col-md-12 ">
           
<b> <p> <h3>Add a Strategy for {{ pgoal.goal }}</h3></p>
    <form class="form form-horizontal" method="post" role="sform" id='sform'>
    {{ sform.hidden_tag() }}
    {{ wtf.form_errors(sform) }}
    {{ wtf.form_field(sform.strategy) }}
<br>
          </div></p></div></div>  {{ wtf.form_field(sform.submit) }}
        <br>
          </p></form></b><br></h3>
       
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
               </div>
  </div>
</div>
      </div>
    </div>
  </div>
</div>
                  </div></div></div>

 
{% for item in q_sum %} 
      <!-- Example row of columns -->
      <div class="container">
      <div class="row">
        <div class="col-md-6">
         
        </div>
      </div>

      <div class="container">
      <div class="row">
        <div class="col-md-6">
        </div> </div></div>
          <div class="panel panel-default">
            <div class="panel-heading">

 <h3><b>Strategy:</b> {{item[6]}}  <br> </h3>Tasks complete {% if item[3] ==0 or item[1] ==0 %} 0% {%endif%}
 <a href="{{ url_for('edit_strategy', name = project.id,goal=pgoal.id,strategy = item[4]) }}" class="btn pull-right"><span class="glyphicon glyphicon-pencil"></span> edit </a> 
</h3>
    <div class="row">
        <div class="col-md-6">
        <div class="progress">
  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: {% if item[1] ==None or item[3] ==0 %} 0% {% else %} {{'%0.1f'| format((item[1]/item[3])*100|float)}}% {%endif%};">
 {% if item[3] ==None or item[1] ==0 %} 0% {% else %} {{'%0.1f'| format((item[1]/item[3])*100|float)}}% {%endif%}
  </div>
</div></div>
            </div></div>
            <div class="panel-body">
               <div class="row">
      <div class="col-md-1 ">
             <p><a href="{{ url_for('task_outline',name = project.id,goal=pgoal.id, strategy = item[4]) }}" class="btn btn-primary" role="button">Tasks</a></p> </div>
             <div class="col-md-1 ">
             <form class="horizontal" method="post" role="delete_form" id='delete_form'>
             <div class="col-md-1 "> 
             {{ delete_form.hidden_tag() }}
             <input type="hidden"  type=text  id="row_id" name="row_id" value="{{item[0].id}}" >
                      <input class="btn btn-danger" id="submitd" name="submitd" value="Delete" type="submit">
                          </form>
             </div></div>

 </div> </div> </div>
            </div>
          </div></div></div>
            {% endfor %}
<br></b></div></div>  </div>

          {% endblock %}
